---
title: "Fed Communications"
author: "Rubén Hernández Murillo"
location: "Model Risk Seminar"
date: "KeyBank — October, 2022"
institute: "Model Risk"
format: 
  revealjs:
    footer: "[rubenhm.org/talks/fedcomms](https://rubenhm.org/talks/fedcomms)"
    scrollable: false
    controls: true
    code-fold: true
    css: custom.css
    highlight-style: solarized
    chalkboard: 
      boardmarker-width: 5
    show-slide-number: all
    slide-number: c/t
    width: 1100
    revealjs-plugins:
      - reveald3
from: markdown+emoji
filters:
  - pandoc/include-code-files.lua
bibliography: bibliography.bib
---

## This talk

<!-- FontAwesome -->
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.11.2/css/all.css" crossorigin="anonymous">

- Presentation website: [rubenhm.org/talks/fedcomms](https://rubenhm.org/talks/fedcomms)
- Slides repository: [github.com/rubenhm/fedcomms](https://github.com/rubenhm/fedcomms)
- Project repository: [github.com/rubenhm/text-similarities](https://github.com/rubenhm/text-similarities)

# 

:::{style="text-align:left; font-size:100px; font-weight: bold; margin-top:100px;"}
Part I: <br>Fed Communications
:::

## Motivation

The Fed produces a lot of communications:


+ [Monetary policy]{.fragment fragment-index=3 .highlight-red}
+ Banking supervision and regulation
+ Financial stability
+ Payments systems
+ Economic research

:::{.notes}
Communications are written publications, press conferences, interviews, or speeches.
:::

##  Monetary Policy Communications

- FOMC post-meeting statement
- Post-meeting press conference
- Semiannual Report to Congress by Fed Chair
- [Minutes of the FOMC meeting]{.fragment fragment-index=3 .highlight-red}
- [Summary of Economic Projections (SEP)]{.fragment fragment-index=3 .highlight-red}
- Congressional testimony by Fed governors
- Speeches by Fed governors
  
:::{.notes}
+ The Fed Chair and Vice Chair are governors.
:::


## Other Fed Communications  
  
- [The Beige Book](https://www.federalreserve.gov/monetarypolicy/beige-book-default.htm)
- Speeches by regional bank presidents   
  <https://www.stlouisfed.org/fomcspeak>

## SEP: The Dotplot

<style>
    #dotplot { width: 1600px; height: 600px; position:relative; left:15px; top:0px; }
    #dotplot { -ms-zoom: 1.3; -moz-transform: scale(1.3); -moz-transform-origin: 0px 0; -o-transform: scale(1.3); -o-transform-origin: 0 0; -webkit-transform: scale(1.3); -webkit-transform-origin: 0 0; }
</style>

<div id="dotplot" class="fig-container" data-file="d3charts/dotplot.html" width="100%"></div>

## SEP: PCE Inflation

<style>
    #pce { width: 1600px; height: 600px; position:relative; left:15px; top:0px; }
    #pce { -ms-zoom: 1.3; -moz-transform: scale(1.3); -moz-transform-origin: 0px 0; -o-transform: scale(1.3); -o-transform-origin: 0 0; -webkit-transform: scale(1.3); -webkit-transform-origin: 0 0; }
</style>

<div id="pce" class="fig-container" data-file="d3charts/fomc_pce_box.html"></div>



## FOMC Communications

-   FOMC communications are drafted strategically
    -   The Fed takes into account market reactions
-   Tension between:
    -   promoting [**transparency**]{.highlight-red}
    -   minimizing [**disruptions**]{.highlight-red}
-   Goals:
    +   To be _'N-sync_ with the markets  
       (conveying that policies are _**data-driven**_)


## Fed Communications

[Chairman Bernanke on Federal Reserve Communications](https://www.federalreserve.gov/newsevents/speech/bernanke20071114a.htm)

> [<i class="fas fa-quote-left"></i>]{style="color:gray;"} _If market participants understand that  
> arriving information about the economy  
> increases the likelihood of certain policy actions,  
> then market interest rates will tend to move   
> in a way that reinforces the expected actions,  
> effectively supporting the goals of the central bank._ [<i class="fas fa-quote-right"></i>]{style="color:gray;"}
> 
:::{style="text-align:right;"}
> — Ben S. Bernanke  
> November 14, 2007
:::


# 

:::{style="text-align:left; font-size:100px; font-weight: bold; margin-top:100px;"}
Part II: <br>Numerical Exercise
:::


## Exercise

-   Calculate measures of *semantic similarity* between:
    -   the discussion on [**current conditions and the outlook**]{style="color: steelblue;"} \
        reported in the [**Minutes**]{style="color: firebrick;"} and
    -   the discussion on [**the forecasts**]{style="color: steelblue;"} \
        reported in the [**Summary of Economic Projections**]{style="color: firebrick;"}.
-   The similarity measures provide a notion of the\
    **correlation of ideas** across the two documents

## Minutes and SEP {.column-page}

<iframe src="attachments/fomcminutes20180613.pdf" width="150%" height="80%"></iframe>


## Robustness tests

-   Compare with the **Beige Book**
-   Compare with **movie reviews**



## Strategy

-   Use _sentence embeddings_ of the documents
    -   [SentenceTransformers](https://www.sbert.net/)  
        [[@reimers-2019-sentence-bert]]{style="font-size:0.75em;"}
    -   [PyTorch](https://pytorch.org/) with CUDA support

-   Embedding
    -   Mapping of sentences to high-dimensional vectors  
        in an inner product space



:::{#refs}

:::

:::{.notes}
+ These are python libraries.
:::

## Measures of similarity

- Cosine similarity
- Euclidean distance
- Pearson correlation

## Cosine similarity 

+ Measure of similarity between two vectors, $A$ and $B$
  

+ $\mathrm{cosine~similarity}~(A,B) = cos(\theta) = \frac{A \cdot B}{\lVert A \rVert \lVert B \rVert}$

+ Measure ranges from $-1$ to $1$
\begin{align*}
  {\scriptsize\bullet}~ A &\perp B                    &\implies cos(\theta) &= 0 &\\ 
  {\scriptsize\bullet}~ B &= c A \mathrm{, with~} c>0 &\implies cos(\theta) &= 1 &\\
  {\scriptsize\bullet}~ B &= c A \mathrm{, with~} c<0 &\implies cos(\theta) &=-1 &\\
\end{align*}


## Multiple tools and languages

![](images/Rlogo.svg){.absolute top="10%" left="5%" width="150px"}

![](images/jupyter.svg){.absolute top="10%" left="80%" width="150px"}

![](images/python.svg){.absolute top="40%" left="40%" width="150px"}

![](images/bash.svg){.absolute top="70%" left="5%" width="150px"}

![](images/google-cloud.svg){.absolute top="70%" left="80%" width="150px"}

## Code dependencies

<!-- https://github.com/ranr01/reveal-inline-svg/ -->

:::{.absolute left="10%"}
<object type="image/svg+xml" data="images/code-network.svg" width="85%">
</object>
:::

<!-- ![](images/code-network.svg){.absolute left="10%" width="80%"} -->



## Download data (`R`)

-   [FOMC Minutes and SEP](https://www.federalreserve.gov/monetarypolicy/fomchistorical2010.htm) available as `PDF` files
-   [Beige Book reports](https://www.minneapolisfed.org/region-and-community/regional-economic-indicators/beige-book-archive) available as `HTML` files
-   [Movie reviews](https://developer.nytimes.com/docs/movie-reviews-api/1/overview) available from the NYT API as `JSON` files

## Download Movie Reviews (`R`)

```{.r include="code/download_and_process_movies.R"}
```

## Download Minutes and SEP (`R`) 

``` {.r include="code/download_fomc_minutes.R"}
```


## Google Cloud (CLI via `Bash`)

-   Upload `PDF` files to storage bucket
-   Run each `PDF` file through the [`Vision API`](https://cloud.google.com/vision)
-   Retrieve `JSON` output

## Google Cloud (CLI via `Bash`)

``` {.bash include="code/gcompfiles.sh" code-line-numbers="|22"}
```

## Process OCR results (`python`)

-   Read `JSON`
-   Calculate various `positional features`
-   Save as `pickle` file


## Process OCR results (`python`) {.scrollable}


<div>
<iframe class="frame-ipynb" src="code/Process_ocr_results.html">
</iframe>
</div>


## Process text into sentences (`R`)

``` {.r include="code/organize_paragraphs.R"}
```



## Calculate similarity (`python`) {.scrollable}

<!-- https://stackoverflow.com/questions/166160/how-can-i-scale-the-content-of-an-iframe -->



<div>
<iframe class="frame-ipynb" src="code/Calculate_similarities.html">
</iframe>
</div>


## Generate plots (`R`)

``` {.r include="code/plot_results.R"}
```



## Results, FOMC


![](images/plot_cosine_fomc.png){.absolute top="10%" left="0%" width="100%"}


## Results, Movie Reviews

![](images/plot_cosine_movies.png){.absolute top="10%" left="0%" width="100%"}

## Discussion 


+ Minutes and SEP are very _similar_
+ The Beige Book is more similar to the Minutes than to the SEP:
  - The Beige Book reports on **current conditions**
  - The Minutes discusses both   
    **current conditions** and **the outlook**
  - The SEP discusses only **forecasts** (i.e. the outlook)


## Discussion (contd)

The Beige Book changed format in 2017

- More concise
- More standardized
- Similar themes as the FOMC meeting
- Less colloquial 


#

:::{style="text-align:left; font-size:100px; font-weight: bold; margin-top:100px;"}
Conclusion
:::

## Take aways

+ The Minutes and SEP are different animals
  + The SEP is a complex document 
  + The Minutes are more readable
+ It is interesting they are _semantically similar_
  + But perhaps not surprising
+ The Beige Book is still my favorite

## Additional applications

- banking- and finance-specific embeddings 
- financial news and forecasting
- sentiment analysis of financial reports
