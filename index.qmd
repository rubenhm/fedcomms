---
title: "Fed Communications"
author: "Rubén Hernández Murillo"
location: "Model Risk Seminar"
date: "KeyBank — October, 2022"
format: 
  revealjs:
    footer: "[rubenhm.org/talks/fedcomms](https://rubenhm.org/talks/fedcomms)"
    scrollable: true
    code-fold: true
    highlight-style: solarized
    chalkboard: 
      boardmarker-width: 5
from: markdown+emoji
filters:
  - pandoc/include-code-files.lua
---

## Motivation

-   Fed communications are drafted strategically
-   The Fed takes into account market reactions
-   Tension between:
    -   promoting **transparency**
    -   minimizing **disruptions**

## Exercise

-   Calculate measures of *semantic similarity* between:
    -   the discussion on **the outlook** reported in\
        the **Minutes** and
    -   the discussion on **the forecasts** reported in\
        the **Summary of Economic Projections**.
-   The similarity measures provide a notion of the\
    **correlation of ideas** across the two documents.

## Robustness tests

-   Compare with the **Beige Book**
-   Compare with **movie reviews**

## Code dependencies

<!-- https://github.com/ranr01/reveal-inline-svg/ -->

:::{.absolute left="10%"}
<object type="image/svg+xml" data="images/code-network.svg" width="85%">
</object>
:::

<!-- ![](images/code-network.svg){.absolute left="10%" width="80%"} -->


## Multiple tools and languages

![](images/Rlogo.svg){.absolute top="10%" left="5%" width="150px"}

![](images/jupyter.svg){.absolute top="10%" left="80%" width="150px"}

![](images/python.svg){.absolute top="40%" left="40%" width="150px"}

![](images/bash.svg){.absolute top="70%" left="5%" width="150px"}

![](images/google-cloud.svg){.absolute top="70%" left="80%" width="150px"}

## Download data (`R`)

-   [FOMC Minutes and SEPs](https://www.federalreserve.gov/monetarypolicy/fomchistorical2010.htm) available as `PDF` files
-   [Beige Book reports](https://www.minneapolisfed.org/region-and-community/regional-economic-indicators/beige-book-archive) available as `HTML` files
-   [Movie reviews](https://developer.nytimes.com/docs/movie-reviews-api/1/overview) available from the NYT API as `JSON` files

## Download Minutes and SEPs (`R`)

``` {.r include="code/download_fomc_minutes.R"}
```

## Google Cloud (CLI via `Bash`)

-   Upload `PDF` files to storage bucket
-   Run each `PDF` file through the [`Vision API`](https://cloud.google.com/vision)
-   Retrieve `JSON` output

## Google Cloud (CLI via `Bash`)

``` {.bash include="code/gcompfiles.sh"}
```

## Process OCR results (`python`)

-   Read `JSON`
-   Calculate various `positional features`
-   Save as `pickle` file


## Process OCR results (`python`)

<style>
    #wrap { width: 1620px; height: 1000px; padding: 0; position:relative; left:-100px; top:0px; overflow: hidden; }
    #frame { width: 1620px; height: 375px; position:relative; left:-65px; top:0px; }
    #frame { -ms-zoom: 1.5; -moz-transform: scale(1.5); -moz-transform-origin: 0px 0; -o-transform: scale(1.5); -o-transform-origin: 0 0; -webkit-transform: scale(1.5); -webkit-transform-origin: 0 0; }
</style>

<div>
<iframe id="frame" src="code/Process_ocr_results.html">
</iframe>
</div>


## Process text into sentences (`R`)

``` {.r include="code/organize_paragraphs.R"}
```



## Calculate similarity (`python`)

<!-- https://stackoverflow.com/questions/166160/how-can-i-scale-the-content-of-an-iframe -->


<style>
    #wrap { width: 1620px; height: 1000px; padding: 0; position:relative; left:-100px; top:0px; overflow: hidden; }
    #frame { width: 1620px; height: 375px; position:relative; left:-65px; top:0px; }
    #frame { -ms-zoom: 1.5; -moz-transform: scale(1.5); -moz-transform-origin: 0px 0; -o-transform: scale(1.5); -o-transform-origin: 0 0; -webkit-transform: scale(1.5); -webkit-transform-origin: 0 0; }
</style>

<div>
<iframe id="frame" src="code/Calculate_similarities.html">
</iframe>
</div>

## To Do

1. Charts with main results
2. Charts with robustness results
3. Conclusions
4. Add links to GitHub repository

